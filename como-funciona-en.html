<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How It Works | Boutique Method</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <link rel="stylesheet" href="accessibility.css" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { serif: ['"Playfair Display"', 'serif'], sans: ['"Lato"', 'sans-serif'] },
          colors: { gold: { 400: '#d4af37', 500: '#c5a028', 900: '#8a6d1f' } }
        }
      }
    }
  </script>

  <style>
    body { background-color: #050505; color: #e5e5e5; font-family: 'Lato', sans-serif; overflow-x: hidden; }
    .gold-selection::selection { background: #d4af37; color: black; }

    /* Better focus visibility */
    :focus-visible { outline: 2px solid rgba(212,175,55,0.6); outline-offset: 4px; }

    /* ROADMAP DESIGN */
    .roadmap-container { position: relative; }
    .roadmap-line {
      position: absolute; left: 50%; top: 0; bottom: 0; width: 1px;
      background: linear-gradient(to bottom, transparent, rgba(212, 175, 55, 0.25), transparent);
    }
    @media (max-width: 768px) { .roadmap-line { left: 20px; } }

    .step-card {
      position: relative;
      transition: all 0.5s ease;
      border: 1px solid rgba(255, 255, 255, 0.06);
      background: rgba(255, 255, 255, 0.01);
    }
    .step-card:hover { border-color: rgba(212, 175, 55, 0.35); background: rgba(212, 175, 55, 0.02); }

    .step-number {
      font-family: 'Playfair Display', serif;
      font-style: italic;
      color: #d4af37;
      font-size: 1.05rem;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(212, 175, 55, 0.28);
      background: #050505;
      z-index: 10;
      border-radius: 999px;
    }

    /* MODAL FIX FOR MOBILE */
    .modal-container {
      max-height: 85vh;
      overflow-y: auto;
      width: 95%;
      scrollbar-width: thin;
      scrollbar-color: #d4af37 transparent;
    }
    .modal-container::-webkit-scrollbar { width: 4px; }
    .modal-container::-webkit-scrollbar-thumb { background: #d4af37; border-radius: 10px; }

    .modal-enter { animation: fadeIn 0.25s ease-out forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: scale(0.985); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>

<body class="antialiased gold-selection flex flex-col min-h-screen">
  <a href="#main-content" class="skip-link">Skip to content</a>

  <nav class="fixed w-full z-50 bg-black/90 backdrop-blur-md border-b border-white/5 transition-all duration-300">
    <div class="max-w-7xl mx-auto px-6 py-4 md:h-20 flex flex-col md:flex-row items-center justify-between gap-4">
      <a href="index-en.html" class="font-serif text-xl tracking-widest text-white uppercase hover:text-gold-400 transition">
        Boutique Method<span class="text-gold-400 text-xs align-top ml-1">®</span>
      </a>

      <div class="flex items-center space-x-4 md:space-x-8 text-[10px] md:text-xs tracking-[0.2em] uppercase font-light text-center flex-wrap justify-center">
        <a href="origem-en.html" class="text-white hover:text-gold-400 transition">The Origin</a>
        <a href="manifesto-en.html" class="text-white hover:text-gold-400 transition">The Holding</a>
        <a href="licenciamento-en.html" class="text-white hover:text-gold-400 transition">Licensing</a>
        <a href="como-funciona-en.html" class="text-gold-400 border-b border-gold-400 pb-1" aria-current="page">How It Works</a>
        <a href="servicos-en.html" class="text-white hover:text-gold-400 transition">Services</a>
        <a href="store-en.html" class="text-white hover:text-gold-400 transition">Collection</a>
        <div class="flex items-center gap-2 border-l border-white/20 pl-4">
          <a href="como-funciona.html" class="text-neutral-500 hover:text-white transition" lang="pt-BR">PT</a>
          <span class="text-white/30">|</span>
          <span class="text-gold-400 cursor-default">EN</span>
        </div>
      </div>

      <a href="iniciar-tratativas-en.html" class="px-6 py-2 border border-gold-400 text-gold-400 text-[10px] md:text-xs uppercase tracking-widest hover:bg-gold-400 hover:text-black transition">
        Initiate Protocols
      </a>
    </div>
  </nav>

  <main id="main-content">
    <header class="pt-48 md:pt-60 pb-16 px-6 text-center">
      <h1 class="font-serif text-4xl md:text-7xl text-white mb-6 italic">How It <span class="text-neutral-500">Works</span></h1>
      <p class="text-neutral-400 font-light max-w-3xl mx-auto text-lg leading-relaxed">
        Licensing by sprints: deliverables + training + application + review. A replicable system — not hourly consulting.
      </p>
    </header>

    <section class="py-24 px-6 border-t border-white/5">
      <div class="max-w-5xl mx-auto text-center mb-20">
        <h2 class="font-serif text-3xl text-white italic">Licensing Stages</h2>
        <p class="text-[10px] uppercase tracking-widest text-neutral-500 mt-2">End-to-end full workflow</p>
      </div>

      <div class="max-w-5xl mx-auto roadmap-container">
        <div class="roadmap-line hidden md:block" aria-hidden="true"></div>

        <div class="space-y-20">
          <!-- 01 -->
          <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-right hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">01</span>
            </div>
            <div class="step-number" aria-hidden="true">I</div>
            <div class="md:w-5/12 step-card p-8">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Initiation Protocol</h3>
              <p class="text-neutral-400 text-sm font-light leading-relaxed">NDA + briefing.</p>
            </div>
          </div>

          <!-- 02 -->
          <div class="flex flex-col md:flex-row-reverse items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-left hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">02</span>
            </div>
            <div class="step-number" aria-hidden="true">II</div>
            <div class="md:w-5/12 step-card p-8 md:text-right">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Diagnosis & Scope</h3>
              <p class="text-neutral-400 text-sm font-light">Mapping and priorities.</p>
            </div>
          </div>

          <!-- 03 -->
          <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-right hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">03</span>
            </div>
            <div class="step-number" aria-hidden="true">III</div>
            <div class="md:w-5/12 step-card p-8">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Contract + Setup</h3>
              <p class="text-neutral-400 text-sm font-light">Brand governance, calendar, and plan.</p>
            </div>
          </div>

          <!-- 04 -->
          <div class="flex flex-col md:flex-row-reverse items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-left hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">04</span>
            </div>
            <div class="step-number" aria-hidden="true">IV</div>
            <div class="md:w-5/12 step-card p-8 md:text-right">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Implementation by Sprints</h3>
              <p class="text-neutral-400 text-sm font-light">Applied delivery + training + refinements.</p>
            </div>
          </div>

          <!-- 05 -->
          <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-right hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">05</span>
            </div>
            <div class="step-number" aria-hidden="true">V</div>
            <div class="md:w-5/12 step-card p-8">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Validation & Sustainment Kit</h3>
              <p class="text-neutral-400 text-sm font-light">Routines, checklists, and metrics.</p>
            </div>
          </div>

          <!-- 06 -->
          <div class="flex flex-col md:flex-row-reverse items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-left hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">06</span>
            </div>
            <div class="step-number" aria-hidden="true">VI</div>
            <div class="md:w-5/12 step-card p-8 md:text-right">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Assisted Operation</h3>
              <p class="text-neutral-400 text-sm font-light">Support and evolution (per plan).</p>
            </div>
          </div>

          <!-- 07 -->
          <div class="flex flex-col md:flex-row items-center justify-between gap-8 md:gap-12 group">
            <div class="md:w-5/12 text-right hidden md:block">
              <span class="text-gold-400/10 font-serif text-7xl italic">07</span>
            </div>
            <div class="step-number" aria-hidden="true">VII</div>
            <div class="md:w-5/12 step-card p-8">
              <h3 class="font-serif text-2xl text-white mb-2 italic">Renewal / Recertification</h3>
              <p class="text-neutral-400 text-sm font-light">Annual standard maintenance.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-32 px-6 border-t border-white/5 bg-[#080808]">
      <div class="max-w-7xl mx-auto text-center">
        <div class="mb-16 space-y-4">
          <span class="text-gold-400 text-xs tracking-[0.3em] uppercase block font-bold">Investment Ledger</span>
          <h2 class="font-serif text-4xl text-white italic">Deliverables by Plan</h2>
          <p class="text-neutral-500 text-sm">Select a plan to audit the full scope of assets.</p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <button type="button" onclick="openPlanModal('essential')" class="group p-10 border border-white/10 bg-white/[0.02] hover:border-gold-400 transition duration-500 text-left">
            <h3 class="text-2xl text-white font-serif italic mb-4">Essential</h3>
            <p class="text-neutral-500 text-xs uppercase tracking-widest mb-8">2 Sprints • Fast standardization</p>
            <span class="text-gold-400 text-[10px] uppercase tracking-[0.2em] border-b border-gold-400/30 pb-1 group-hover:text-white transition">Audit Assets →</span>
          </button>

          <button type="button" onclick="openPlanModal('professional')" class="group p-10 border-2 border-gold-400 bg-gold-400/[0.03] shadow-2xl transition duration-500 text-left relative">
            <div class="absolute top-0 right-0 p-4"><span class="text-gold-400 text-[8px] border border-gold-400 px-2 py-1 uppercase font-bold">Recommended</span></div>
            <h3 class="text-2xl text-gold-400 font-serif italic mb-4">Professional</h3>
            <p class="text-neutral-400 text-xs uppercase tracking-widest mb-8">4 Sprints • Consistency + Performance</p>
            <span class="text-white text-[10px] uppercase tracking-[0.2em] border-b border-white/30 pb-1 group-hover:text-gold-400 transition">Audit Assets →</span>
          </button>

          <button type="button" onclick="openPlanModal('enterprise')" class="group p-10 border border-white/10 bg-white/[0.02] hover:border-gold-400 transition duration-500 text-left">
            <h3 class="text-2xl text-white font-serif italic mb-4">Enterprise</h3>
            <p class="text-neutral-500 text-xs uppercase tracking-widest mb-8">8–12 Sprints • Multi-unit</p>
            <span class="text-gold-400 text-[10px] uppercase tracking-[0.2em] border-b border-gold-400/30 pb-1 group-hover:text-white transition">Audit Assets →</span>
          </button>
        </div>
      </div>
    </section>
  </main>

  <!-- MODAL -->
  <div id="modal-overlay"
       class="fixed inset-0 bg-black/98 backdrop-blur-xl z-[100] hidden items-center justify-center p-4"
       role="dialog"
       aria-modal="true"
       aria-hidden="true">
    <div class="bg-neutral-900 border border-gold-400/30 max-w-3xl w-full p-8 md:p-16 relative shadow-2xl modal-container modal-enter">
      <button type="button" onclick="closeModal()" class="absolute top-6 right-6 text-neutral-500 hover:text-gold-400 transition-colors text-3xl" aria-label="Close modal">✕</button>
      <div id="modal-content" class="space-y-10"></div>
    </div>
  </div>

  <footer class="bg-black py-12 border-t border-white/10 text-[10px] text-neutral-600 text-center uppercase tracking-widest mt-auto">
    <p>Boutique Method IP Holding Ltda © 2026</p>
  </footer>

  <script>
    const planDetails = {
      essential: {
        title: "Essential",
        duration: "2 Sprints",
        indicated: "Fast standardization",
        deliverables: "Magna Carta; Tone of Voice by channel; Essential templates; Basic support and escalation flow.",
        implementation: "2 meetings; fast training; final post-use refinements.",
        governance: "Weekly checklist; minimum metrics; maintenance guide."
      },
      professional: {
        title: "Professional",
        duration: "4 Sprints",
        indicated: "Consistency + performance",
        deliverables: "Everything in Essential; expanded scripts; tactical crisis playbook; audience-based standards; objection-handling responses.",
        implementation: "4 meetings; role-based training; guided review of real channels.",
        governance: "RACI; internal SLA; monthly ritual; light audit (baseline)."
      },
      enterprise: {
        title: "Enterprise",
        duration: "8–12 Sprints",
        indicated: "Multi-unit and high exposure",
        deliverables: "Everything in Professional; multi-unit governance; robust reputation kit; formal tracks; scenario-based customizations.",
        implementation: "Tracks + refreshers; multipliers; supervised workshop; unit-by-unit rollout.",
        governance: "Executive committee; audits; metrics dashboard; sustainment manual; recertification."
      }
    };

    let lastFocusedEl = null;

    function openPlanModal(id) {
      const data = planDetails[id];
      const overlay = document.getElementById('modal-overlay');
      const container = document.getElementById('modal-content');

      lastFocusedEl = document.activeElement;

      container.innerHTML = `
        <div class="space-y-2">
          <h3 class="font-serif text-4xl md:text-5xl text-white italic">${data.title}</h3>
          <p class="text-gold-400 text-xs uppercase tracking-[0.2em] font-bold">${data.indicated} • ${data.duration}</p>
        </div>

        <div class="grid md:grid-cols-2 gap-10 pt-4">
          <div class="space-y-4">
            <h4 class="text-gold-400 text-[10px] uppercase tracking-widest font-bold">Core Deliverables</h4>
            <p class="text-neutral-300 font-light leading-relaxed text-base">${data.deliverables}</p>
          </div>
          <div class="space-y-4">
            <h4 class="text-gold-400 text-[10px] uppercase tracking-widest font-bold">Implementation & Training</h4>
            <p class="text-neutral-300 font-light leading-relaxed text-base">${data.implementation}</p>
          </div>
        </div>

        <div class="pt-8 border-t border-white/5">
          <h4 class="text-gold-400 text-[10px] uppercase tracking-widest font-bold mb-4">Governance & Sustainment</h4>
          <p class="text-white font-serif text-xl md:text-2xl italic leading-relaxed">${data.governance}</p>
        </div>

        <div class="pt-8">
          <a href="iniciar-tratativas-en.html" class="block w-full bg-gold-400 text-black text-center py-5 text-xs font-bold uppercase tracking-[0.3em] hover:bg-white transition duration-500">
            Initiate Plan Protocol
          </a>
        </div>
      `;

      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      overlay.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';

      const closeBtn = overlay.querySelector('button[aria-label="Close modal"]');
      if (closeBtn) closeBtn.focus();
    }

    function closeModal() {
      const overlay = document.getElementById('modal-overlay');
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
      overlay.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = 'auto';

      if (lastFocusedEl) lastFocusedEl.focus();
    }

    // Close by clicking overlay
    window.addEventListener('click', function(e) {
      const overlay = document.getElementById('modal-overlay');
      if (e.target === overlay) closeModal();
    });

    // Close by ESC
    window.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const overlay = document.getElementById('modal-overlay');
        if (!overlay.classList.contains('hidden')) closeModal();
      }
    });
  </script>
</body>
</html>
